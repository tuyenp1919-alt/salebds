import{z as c,a as e,L as P,j as a}from"./index-5d5c5b17.js";import{e as j,d as C,r,L as k}from"./vendor-08663a87.js";import{p as b}from"./propertyService-21dd88c7.js";import{Q as B,a0 as M,s as T,a8 as V,a9 as A,a7 as I,a5 as $,a6 as D,H as E,e as H,aa as z}from"./ui-529afc54.js";const q=()=>{var o,g,p,N,x;const{propertyId:n}=j(),i=C(),[s,u]=r.useState(null),[f,d]=r.useState(!0),[m,y]=r.useState(0);r.useEffect(()=>{n&&v(n)},[n]);const v=async l=>{try{d(!0);const t=await b.getPropertyById(l);u(t)}catch(t){console.error("Error loading property:",t),c.error("Không thể tải thông tin bất động sản"),i("/properties")}finally{d(!1)}},w=async()=>{if(!(!s||!window.confirm("Bạn có chắc chắn muốn xóa bất động sản này?")))try{await b.deleteProperty(s.id),c.success("Đã xóa bất động sản thành công"),i("/properties")}catch{c.error("Không thể xóa bất động sản")}};if(f)return e(P,{});if(!s)return e("div",{children:"Không tìm thấy bất động sản"});const S=l=>({available:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",sold:"bg-red-100 text-red-800",rented:"bg-blue-100 text-blue-800"})[l]||"bg-gray-100 text-gray-800",L=["https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=800","https://images.unsplash.com/photo-1565953522043-baea26b83b7e?w=800","https://images.unsplash.com/photo-1572120360610-d971b9d7767c?w=800"],h=((o=s.images)==null?void 0:o.length)>0?s.images:L;return a("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[a("div",{className:"mb-6",children:[a(k,{to:"/properties",className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[e(B,{className:"w-4 h-4 mr-2"}),"Quay lại danh sách"]}),a("div",{className:"flex justify-between items-start",children:[a("div",{children:[e("h1",{className:"text-3xl font-bold text-gray-900",children:s.title}),a("div",{className:"flex items-center gap-4 mt-2",children:[e("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${S(s.status)}`,children:s.status==="available"?"Đang bán":s.status==="pending"?"Đang giao dịch":s.status==="sold"?"Đã bán":"Đã cho thuê"}),a("span",{className:"text-gray-500 text-sm",children:["Mã BĐS: ",s.code]})]})]}),a("div",{className:"flex gap-2",children:[a("button",{onClick:()=>i(`/properties/${s.id}/edit`),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[e(M,{className:"w-4 h-4"}),"Chỉnh sửa"]}),a("button",{onClick:w,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2",children:[e(T,{className:"w-4 h-4"}),"Xóa"]})]})]})]}),a("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a("div",{className:"lg:col-span-2 space-y-6",children:[a("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a("div",{className:"relative",children:[e("img",{src:h[m],alt:s.title,className:"w-full h-96 object-cover"}),a("div",{className:"absolute top-4 right-4 flex gap-2",children:[e("button",{className:"p-2 bg-white/80 backdrop-blur rounded-lg hover:bg-white",children:e(V,{className:"w-5 h-5"})}),e("button",{className:"p-2 bg-white/80 backdrop-blur rounded-lg hover:bg-white",children:e(A,{className:"w-5 h-5"})})]})]}),e("div",{className:"flex gap-2 p-4",children:h.map((l,t)=>e("button",{onClick:()=>y(t),className:`relative flex-1 h-20 rounded-lg overflow-hidden ${m===t?"ring-2 ring-blue-500":""}`,children:e("img",{src:l,alt:`${s.title} ${t+1}`,className:"w-full h-full object-cover"})},t))})]}),a("div",{className:"bg-white rounded-lg shadow p-6",children:[e("h2",{className:"text-xl font-semibold mb-4",children:"Thông tin chi tiết"}),a("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a("div",{className:"flex items-center gap-2 text-gray-600",children:[e(I,{className:"w-5 h-5"}),a("span",{children:[s.area," m²"]})]}),a("div",{className:"flex items-center gap-2 text-gray-600",children:[e($,{className:"w-5 h-5"}),a("span",{children:[s.bedrooms||0," phòng ngủ"]})]}),a("div",{className:"flex items-center gap-2 text-gray-600",children:[e(D,{className:"w-5 h-5"}),a("span",{children:[s.bathrooms||0," phòng tắm"]})]}),a("div",{className:"flex items-center gap-2 text-gray-600",children:[e(E,{className:"w-5 h-5"}),e("span",{children:s.type})]})]}),a("div",{className:"mb-6",children:[e("h3",{className:"font-semibold mb-2",children:"Mô tả"}),e("p",{className:"text-gray-700 whitespace-pre-wrap",children:s.description||"Chưa có mô tả"})]}),a("div",{className:"grid grid-cols-2 gap-4",children:[a("div",{children:[e("p",{className:"text-sm text-gray-500",children:"Hướng nhà"}),e("p",{className:"font-medium",children:s.direction||"Chưa xác định"})]}),a("div",{children:[e("p",{className:"text-sm text-gray-500",children:"Pháp lý"}),e("p",{className:"font-medium",children:s.legal||"Sổ đỏ chính chủ"})]}),a("div",{children:[e("p",{className:"text-sm text-gray-500",children:"Nội thất"}),e("p",{className:"font-medium",children:s.furniture||"Cơ bản"})]}),a("div",{children:[e("p",{className:"text-sm text-gray-500",children:"Tầng"}),e("p",{className:"font-medium",children:s.floor||"N/A"})]})]})]}),a("div",{className:"bg-white rounded-lg shadow p-6",children:[a("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e(H,{className:"w-5 h-5"}),"Vị trí"]}),e("p",{className:"text-gray-700 mb-4",children:s.address}),e("div",{className:"h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:e("p",{className:"text-gray-500",children:"Bản đồ sẽ hiển thị ở đây"})})]})]}),a("div",{className:"space-y-6",children:[a("div",{className:"bg-white rounded-lg shadow p-6",children:[a("div",{className:"mb-4",children:[e("p",{className:"text-sm text-gray-500",children:"Giá bán"}),a("p",{className:"text-3xl font-bold text-blue-600",children:[s.price.toLocaleString("vi-VN")," VNĐ"]}),s.pricePerM2&&a("p",{className:"text-sm text-gray-500 mt-1",children:[s.pricePerM2.toLocaleString("vi-VN")," VNĐ/m²"]})]}),a("div",{className:"space-y-2",children:[e("button",{className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium",children:"Liên hệ ngay"}),e("button",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Đặt lịch xem nhà"})]})]}),a("div",{className:"bg-white rounded-lg shadow p-6",children:[e("h3",{className:"font-semibold mb-4",children:"Thông tin liên hệ"}),a("div",{className:"space-y-3",children:[a("div",{children:[e("p",{className:"text-sm text-gray-500",children:"Người đăng"}),e("p",{className:"font-medium",children:((g=s.owner)==null?void 0:g.name)||"Admin"})]}),a("div",{children:[e("p",{className:"text-sm text-gray-500",children:"Điện thoại"}),e("p",{className:"font-medium",children:((p=s.owner)==null?void 0:p.phone)||"0123456789"})]}),a("div",{children:[e("p",{className:"text-sm text-gray-500",children:"Email"}),e("p",{className:"font-medium text-sm",children:((N=s.owner)==null?void 0:N.email)||"admin@salebds.com"})]})]})]}),a("div",{className:"bg-white rounded-lg shadow p-6",children:[e("h3",{className:"font-semibold mb-4",children:"Tiện ích"}),e("div",{className:"space-y-2",children:((x=s.features)==null?void 0:x.map((l,t)=>a("div",{className:"flex items-center gap-2 text-gray-600",children:[e(z,{className:"w-4 h-4 text-green-500"}),e("span",{className:"text-sm",children:l})]},t)))||e("p",{className:"text-gray-500 text-sm",children:"Chưa có thông tin"})})]}),a("div",{className:"bg-white rounded-lg shadow p-6",children:[e("h3",{className:"font-semibold mb-4",children:"Thống kê"}),a("div",{className:"space-y-3",children:[a("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-gray-500 text-sm",children:"Lượt xem"}),e("span",{className:"font-medium",children:s.views||0})]}),a("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-gray-500 text-sm",children:"Lượt thích"}),e("span",{className:"font-medium",children:s.likes||0})]}),a("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-gray-500 text-sm",children:"Ngày đăng"}),e("span",{className:"font-medium",children:new Date(s.createdAt).toLocaleDateString("vi-VN")})]})]})]})]})]})]})};export{q as default};

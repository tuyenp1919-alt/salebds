import{a as e,j as a}from"./index-5d5c5b17.js";import{r as s}from"./vendor-08663a87.js";import{P,p as h,o as b,f as m,ac as N,i as F,l as V,V as U,J as q}from"./ui-529afc54.js";const v=[{id:"1",customerId:"1",customerName:"Nguyễn Văn An",propertyId:"1",propertyName:"Căn hộ Vinhomes Central Park",type:"call",subject:"Tư vấn về giá và chính sách thanh toán",description:"Khách hàng quan tâm đến căn hộ 2PN, hỏi về chính sách thanh toán và khuyến mãi hiện tại. Đã cung cấp bảng giá và lịch thanh toán.",outcome:"completed",createdAt:"2024-01-20T14:30:00",duration:25,agentName:"Trần Thị Bình",priority:"high",followUp:"Gửi hợp đồng mẫu và lịch hẹn xem nhà",tags:["mua-ban","tu-van-gia","khach-tiem-nang"]},{id:"2",customerId:"2",customerName:"Lê Thị Cẩm",type:"email",subject:"Gửi thông tin dự án mới",description:"Gửi brochure và thông tin chi tiết về dự án Masteri Thảo Điền cho khách hàng đã quan tâm.",outcome:"completed",createdAt:"2024-01-19T09:15:00",agentName:"Võ Minh Đức",priority:"medium",tags:["marketing","du-an-moi","gui-thong-tin"]},{id:"3",customerId:"3",customerName:"Hoàng Minh Tuấn",propertyId:"2",propertyName:"Nhà phố The Sun Avenue",type:"meeting",subject:"Hẹn xem nhà và ký hợp đồng",description:"Cuộc hẹn xem nhà tại dự án The Sun Avenue và thảo luận về điều khoản hợp đồng.",outcome:"scheduled",createdAt:"2024-01-18T16:45:00",scheduledAt:"2024-01-25T10:00:00",agentName:"Nguyễn Thành Nam",priority:"high",followUp:"Chuẩn bị hợp đồng và tài liệu pháp lý",tags:["xem-nha","hop-dong","khach-mua"]},{id:"4",customerId:"1",customerName:"Nguyễn Văn An",type:"message",subject:"Tin nhắn hỏi về tiến độ dự án",description:"Khách hàng nhắn tin qua Zalo hỏi về tiến độ xây dựng và dự kiến bàn giao căn hộ.",outcome:"completed",createdAt:"2024-01-17T20:30:00",agentName:"Trần Thị Bình",priority:"low",tags:["tien-do","zalo","thac-mac"]},{id:"5",customerId:"4",customerName:"Phạm Thu Hà",type:"call",subject:"Tư vấn đầu tư bất động sản",description:"Khách hàng mới, quan tâm đến việc đầu tư bất động sản cho thuê. Cần tư vấn về vị trí và lợi nhuận.",outcome:"pending",createdAt:"2024-01-16T11:20:00",duration:15,agentName:"Lý Văn Công",priority:"medium",followUp:"Gửi báo cáo thị trường và danh sách các dự án phù hợp",tags:["dau-tu","tu-van","khach-moi"]}],G=()=>{const[r,f]=s.useState([]),[u,g]=s.useState([]),[n,y]=s.useState(""),[c,w]=s.useState("all"),[i,T]=s.useState("all"),[d,C]=s.useState("all"),[j,p]=s.useState(!0);s.useEffect(()=>{(async()=>{p(!0),await new Promise(l=>setTimeout(l,800)),f(v),g(v),p(!1)})()},[]),s.useEffect(()=>{let t=r;n&&(t=t.filter(l=>l.customerName.toLowerCase().includes(n.toLowerCase())||l.subject.toLowerCase().includes(n.toLowerCase())||l.agentName.toLowerCase().includes(n.toLowerCase())||l.tags.some(o=>o.toLowerCase().includes(n.toLowerCase())))),c!=="all"&&(t=t.filter(l=>l.type===c)),i!=="all"&&(t=t.filter(l=>l.outcome===i)),d!=="all"&&(t=t.filter(l=>l.priority===d)),g(t)},[r,n,c,i,d]);const I=t=>{switch(t){case"call":return e(b,{size:16,className:"text-blue-500"});case"email":return e(q,{size:16,className:"text-green-500"});case"meeting":return e(m,{size:16,className:"text-purple-500"});case"message":return e(h,{size:16,className:"text-orange-500"});default:return e(h,{size:16,className:"text-gray-500"})}},k=t=>{switch(t){case"call":return"Cuộc gọi";case"email":return"Email";case"meeting":return"Cuộc hẹn";case"message":return"Tin nhắn";default:return t}},L=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"scheduled":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},z=t=>{switch(t){case"pending":return"Đang chờ";case"completed":return"Hoàn thành";case"scheduled":return"Đã lên lịch";case"cancelled":return"Đã hủy";default:return t}},A=t=>{switch(t){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},S=t=>{switch(t){case"high":return"Cao";case"medium":return"Trung bình";case"low":return"Thấp";default:return t}},x=t=>new Date(t).toLocaleString("vi-VN");return j?e("div",{className:"flex items-center justify-center h-64",children:e("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):a("div",{className:"p-6 max-w-7xl mx-auto",children:[a("div",{className:"flex justify-between items-center mb-8",children:[a("div",{children:[e("h1",{className:"text-3xl font-bold text-gray-900",children:"Lịch sử Tương tác"}),e("p",{className:"text-gray-600 mt-2",children:"Theo dõi và quản lý tất cả các tương tác với khách hàng"})]}),a("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[e(P,{size:20}),"Thêm tương tác"]})]}),a("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:a("div",{className:"flex items-center justify-between",children:[a("div",{children:[e("p",{className:"text-sm text-gray-600",children:"Tổng tương tác"}),e("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]}),e(h,{className:"w-12 h-12 text-blue-500"})]})}),e("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:a("div",{className:"flex items-center justify-between",children:[a("div",{children:[e("p",{className:"text-sm text-gray-600",children:"Cuộc gọi"}),e("p",{className:"text-2xl font-bold text-blue-600",children:r.filter(t=>t.type==="call").length})]}),e(b,{className:"w-12 h-12 text-blue-500"})]})}),e("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:a("div",{className:"flex items-center justify-between",children:[a("div",{children:[e("p",{className:"text-sm text-gray-600",children:"Cuộc hẹn"}),e("p",{className:"text-2xl font-bold text-purple-600",children:r.filter(t=>t.type==="meeting").length})]}),e(m,{className:"w-12 h-12 text-purple-500"})]})}),e("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:a("div",{className:"flex items-center justify-between",children:[a("div",{children:[e("p",{className:"text-sm text-gray-600",children:"Ưu tiên cao"}),e("p",{className:"text-2xl font-bold text-red-600",children:r.filter(t=>t.priority==="high").length})]}),e(N,{className:"w-12 h-12 text-red-500"})]})})]}),e("div",{className:"bg-white p-6 rounded-lg shadow-sm border mb-6",children:a("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e("div",{className:"md:col-span-2",children:a("div",{className:"relative",children:[e(F,{size:20,className:"absolute left-3 top-2.5 text-gray-400"}),e("input",{type:"text",placeholder:"Tìm kiếm khách hàng, chủ đề, nhân viên...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:n,onChange:t=>y(t.target.value)})]})}),e("div",{children:a("select",{className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:c,onChange:t=>w(t.target.value),children:[e("option",{value:"all",children:"Tất cả loại"}),e("option",{value:"call",children:"Cuộc gọi"}),e("option",{value:"email",children:"Email"}),e("option",{value:"meeting",children:"Cuộc hẹn"}),e("option",{value:"message",children:"Tin nhắn"})]})}),e("div",{children:a("select",{className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:i,onChange:t=>T(t.target.value),children:[e("option",{value:"all",children:"Tất cả trạng thái"}),e("option",{value:"pending",children:"Đang chờ"}),e("option",{value:"completed",children:"Hoàn thành"}),e("option",{value:"scheduled",children:"Đã lên lịch"}),e("option",{value:"cancelled",children:"Đã hủy"})]})}),e("div",{children:a("select",{className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:d,onChange:t=>C(t.target.value),children:[e("option",{value:"all",children:"Tất cả ưu tiên"}),e("option",{value:"high",children:"Cao"}),e("option",{value:"medium",children:"Trung bình"}),e("option",{value:"low",children:"Thấp"})]})})]})}),e("div",{className:"space-y-4",children:u.map(t=>a("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:[a("div",{className:"flex items-start justify-between mb-4",children:[a("div",{className:"flex items-start gap-4",children:[a("div",{className:"flex items-center gap-2",children:[I(t.type),e("span",{className:"text-sm text-gray-600",children:k(t.type)})]}),a("div",{className:"flex-1",children:[e("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:t.subject}),a("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[a("div",{className:"flex items-center gap-1",children:[e(V,{size:14}),e("span",{children:t.customerName})]}),t.propertyName&&a("div",{className:"flex items-center gap-1",children:[e(U,{size:14}),e("span",{children:t.propertyName})]}),a("div",{className:"flex items-center gap-1",children:[e(N,{size:14}),e("span",{children:x(t.createdAt)})]})]})]})]}),a("div",{className:"flex items-center gap-2",children:[e("span",{className:`px-2 py-1 text-xs font-medium ${A(t.priority)}`,children:S(t.priority)}),e("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${L(t.outcome)}`,children:z(t.outcome)})]})]}),e("p",{className:"text-gray-700 mb-4 leading-relaxed",children:t.description}),t.scheduledAt&&e("div",{className:"bg-blue-50 p-3 rounded-lg mb-4",children:a("div",{className:"flex items-center gap-2 text-blue-800",children:[e(m,{size:16}),a("span",{className:"font-medium",children:["Lịch hẹn: ",x(t.scheduledAt)]})]})}),t.followUp&&a("div",{className:"bg-yellow-50 p-3 rounded-lg mb-4",children:[e("p",{className:"text-yellow-800 font-medium mb-1",children:"Theo dõi:"}),e("p",{className:"text-yellow-700",children:t.followUp})]}),a("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[a("div",{className:"flex items-center gap-4",children:[a("span",{className:"text-sm text-gray-600",children:["Nhân viên: ",e("span",{className:"font-medium",children:t.agentName})]}),t.duration&&a("span",{className:"text-sm text-gray-600",children:["Thời gian: ",a("span",{className:"font-medium",children:[t.duration," phút"]})]})]}),e("div",{className:"flex flex-wrap gap-1",children:t.tags.map((l,o)=>e("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded",children:l},o))})]})]},t.id))}),u.length===0&&a("div",{className:"text-center py-12",children:[e(h,{size:64,className:"mx-auto text-gray-400 mb-4"}),e("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Không có tương tác nào"}),e("p",{className:"text-gray-600 mb-6",children:"Thử thay đổi bộ lọc hoặc thêm tương tác mới"}),e("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Thêm tương tác đầu tiên"})]})]})};export{G as default};

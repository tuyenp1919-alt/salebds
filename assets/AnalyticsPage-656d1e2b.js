import{j as a,a as e,m as p,L as x}from"./index-5d5c5b17.js";import{r as o}from"./vendor-08663a87.js";import{C as N,a as y,L as f,B as w,p as T,b as C,c as k,A as P,P as A,d as B,e as D,f as j,g as L}from"./charts-7b8ebc5e.js";import{R as S,ad as R,W as u,U as G,V,o as b,b as q,ae as E,af as $,Y as H,f as F,T as W,ag as _}from"./ui-529afc54.js";N.register(y,f,w,T,C,k,P,A,B);const K=({timeRange:l,onTimeRangeChange:i})=>{const[r,d]=o.useState(!1),[t,c]=o.useState(null),v={overview:{totalRevenue:245e7,revenueGrowth:15.2,totalCustomers:245,customerGrowth:8.5,totalProperties:89,propertiesGrowth:12.1,totalCalls:1432,callsGrowth:-3.2},salesPerformance:{labels:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6"],datasets:[{label:"Doanh thu (tỷ VNĐ)",data:[1.2,1.5,1.8,2.1,2.3,2.45],backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:2}]},customerTypes:{labels:["Tiềm năng","Quan tâm","Khách hàng","Không hoạt động"],datasets:[{data:[35,25,30,10],backgroundColor:["rgba(255, 193, 7, 0.8)","rgba(13, 202, 240, 0.8)","rgba(25, 135, 84, 0.8)","rgba(108, 117, 125, 0.8)"],borderColor:["rgba(255, 193, 7, 1)","rgba(13, 202, 240, 1)","rgba(25, 135, 84, 1)","rgba(108, 117, 125, 1)"],borderWidth:2}]},conversionRates:{labels:["Tuần 1","Tuần 2","Tuần 3","Tuần 4","Tuần 5","Tuần 6"],datasets:[{label:"Tỷ lệ chuyển đổi (%)",data:[65,72,68,75,82,78],fill:!0,backgroundColor:"rgba(168, 85, 247, 0.1)",borderColor:"rgba(168, 85, 247, 1)",borderWidth:2,tension:.4}]}};o.useEffect(()=>{m()},[l]);const m=async()=>{d(!0),setTimeout(()=>{c(v),d(!1)},1e3)},h=s=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(s);return r?a("div",{className:"space-y-6 animate-pulse",children:[e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((s,n)=>a("div",{className:"bg-white rounded-lg p-6 border",children:[e("div",{className:"h-6 bg-gray-200 rounded mb-4"}),e("div",{className:"h-8 bg-gray-200 rounded mb-2"}),e("div",{className:"h-4 bg-gray-200 rounded w-20"})]},n))}),a("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e("div",{className:"bg-white rounded-lg p-6 border",children:e("div",{className:"h-64 bg-gray-200 rounded"})}),e("div",{className:"bg-white rounded-lg p-6 border",children:e("div",{className:"h-64 bg-gray-200 rounded"})})]})]}):a("div",{className:"space-y-6",children:[a("div",{className:"flex items-center justify-between",children:[a("div",{children:[e("h1",{className:"text-2xl font-semibold text-gray-900",children:"Analytics Dashboard"}),e("p",{className:"text-gray-600 mt-1",children:"Tổng quan hiệu suất kinh doanh"})]}),a("div",{className:"flex items-center space-x-4",children:[a("select",{value:l,onChange:s=>i(s.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-sm",children:[e("option",{value:"week",children:"7 ngày qua"}),e("option",{value:"month",children:"30 ngày qua"}),e("option",{value:"quarter",children:"3 tháng qua"}),e("option",{value:"year",children:"12 tháng qua"})]}),a("button",{onClick:m,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[e(S,{className:"w-4 h-4"}),e("span",{children:"Làm mới"})]}),a("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e(R,{className:"w-4 h-4"}),e("span",{children:"Xuất báo cáo"})]})]})]}),a("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e(g,{title:"Tổng doanh thu",value:h(t.overview.totalRevenue),growth:t.overview.revenueGrowth,icon:u,iconColor:"text-green-600",iconBg:"bg-green-100"}),e(g,{title:"Tổng khách hàng",value:t.overview.totalCustomers.toString(),growth:t.overview.customerGrowth,icon:G,iconColor:"text-blue-600",iconBg:"bg-blue-100"}),e(g,{title:"Bất động sản",value:t.overview.totalProperties.toString(),growth:t.overview.propertiesGrowth,icon:V,iconColor:"text-purple-600",iconBg:"bg-purple-100"}),e(g,{title:"Cuộc gọi",value:t.overview.totalCalls.toString(),growth:t.overview.callsGrowth,icon:b,iconColor:"text-orange-600",iconBg:"bg-orange-100"})]}),a("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a("div",{className:"flex items-center justify-between mb-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900",children:"Hiệu suất bán hàng"}),a("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e(q,{className:"w-4 h-4"}),e("span",{children:"Theo tháng"})]})]}),e("div",{className:"h-64",children:e(D,{data:t.salesPerformance,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{callback:s=>`${s}B`}}}}})})]}),a("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a("div",{className:"flex items-center justify-between mb-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900",children:"Phân loại khách hàng"}),e(E,{className:"w-5 h-5 text-gray-400"})]}),e("div",{className:"h-64",children:e(j,{data:t.customerTypes,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,pointStyle:"circle"}}}}})})]})]}),a("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a("div",{className:"flex items-center justify-between mb-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900",children:"Tỷ lệ chuyển đổi"}),e($,{className:"w-5 h-5 text-gray-400"})]}),e("div",{className:"h-64",children:e(L,{data:t.conversionRates,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:s=>`${s}%`}}}}})})]}),a("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Top Performers"}),e("div",{className:"space-y-4",children:[{name:"Nguyễn Văn A",sales:85e7,deals:12,avatar:"A"},{name:"Trần Thị B",sales:72e7,deals:10,avatar:"B"},{name:"Lê Minh C",sales:65e7,deals:9,avatar:"C"},{name:"Phạm Thị D",sales:58e7,deals:8,avatar:"D"}].map((s,n)=>a("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a("div",{className:"flex items-center space-x-3",children:[e("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:s.avatar}),a("div",{children:[e("div",{className:"font-medium text-gray-900",children:s.name}),a("div",{className:"text-sm text-gray-500",children:[s.deals," deals"]})]})]}),a("div",{className:"text-right",children:[e("div",{className:"font-semibold text-green-600",children:h(s.sales)}),a("div",{className:"text-xs text-gray-500",children:["#",n+1]})]})]},n))})]})]}),a("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Hoạt động gần đây"}),e("div",{className:"space-y-4",children:[{type:"sale",message:"Hoàn thành deal căn hộ Vinhomes Central Park",value:"8.5 tỷ VNĐ",time:"2 giờ trước",agent:"Nguyễn Văn A"},{type:"lead",message:"Lead mới từ Facebook Ads",value:"3 leads",time:"4 giờ trước",agent:"Hệ thống"},{type:"meeting",message:"Cuộc hẹn với khách hàng Trần Thị B",value:"Thành công",time:"6 giờ trước",agent:"Lê Minh C"},{type:"call",message:"Tư vấn khách hàng qua điện thoại",value:"45 phút",time:"8 giờ trước",agent:"Phạm Thị D"}].map((s,n)=>a("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg",children:[a("div",{className:"flex items-center space-x-3",children:[e("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s.type==="sale"?"bg-green-100 text-green-600":s.type==="lead"?"bg-blue-100 text-blue-600":s.type==="meeting"?"bg-purple-100 text-purple-600":"bg-orange-100 text-orange-600"}`,children:s.type==="sale"?e(u,{className:"w-5 h-5"}):s.type==="lead"?e(H,{className:"w-5 h-5"}):s.type==="meeting"?e(F,{className:"w-5 h-5"}):e(b,{className:"w-5 h-5"})}),a("div",{children:[e("div",{className:"font-medium text-gray-900",children:s.message}),a("div",{className:"text-sm text-gray-500",children:[s.agent," • ",s.time]})]})]}),e("div",{className:"text-right",children:e("div",{className:"font-semibold text-gray-900",children:s.value})})]},n))})]})]})},g=({title:l,value:i,growth:r,icon:d,iconColor:t,iconBg:c})=>a(p.div,{whileHover:{y:-2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a("div",{className:"flex items-center justify-between",children:[e("div",{className:`p-3 rounded-lg ${c}`,children:e(d,{className:`w-6 h-6 ${t}`})}),e("div",{className:"text-right",children:r>=0?e(W,{className:"w-5 h-5 text-green-600"}):e(_,{className:"w-5 h-5 text-red-600"})})]}),a("div",{className:"mt-4",children:[e("h3",{className:"text-sm font-medium text-gray-600",children:l}),e("p",{className:"text-2xl font-semibold text-gray-900 mt-1",children:i}),a("div",{className:`flex items-center mt-2 ${r>=0?"text-green-600":"text-red-600"}`,children:[a("span",{className:"text-sm font-medium",children:[r>=0?"+":"",r.toFixed(1),"%"]}),e("span",{className:"text-xs text-gray-500 ml-2",children:"vs tháng trước"})]})]})]}),z=()=>{const[l,i]=o.useState("month"),[r,d]=o.useState(!1),t=c=>{i(c)};return r?e("div",{className:"min-h-screen flex items-center justify-center",children:e(x,{size:"lg"})}):e("div",{className:"min-h-screen bg-gray-50 p-6",children:e(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto",children:e(K,{timeRange:l,onTimeRangeChange:t})})})};export{z as default};

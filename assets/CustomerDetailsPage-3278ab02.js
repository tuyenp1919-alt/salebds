import{z as r,a as e,L as y,j as a,f as b,v}from"./index-5d5c5b17.js";import{e as w,d as C,r as i,L as j}from"./vendor-08663a87.js";import{c as m}from"./customerService-e36e0901.js";import{Q as k,l as L,a0 as S,s as D,o,J as g,e as T,f as P}from"./ui-529afc54.js";const I=()=>{var h;const{customerId:n}=w(),c=C(),[s,x]=i.useState(null),[u,d]=i.useState(!0);i.useEffect(()=>{n&&p(n)},[n]);const p=async t=>{try{d(!0);const l=await m.getCustomerById(t);x(l)}catch(l){console.error("Error loading customer:",l),r.error("Không thể tải thông tin khách hàng"),c("/customers")}finally{d(!1)}},N=async()=>{if(!(!s||!window.confirm("Bạn có chắc chắn muốn xóa khách hàng này?")))try{await m.deleteCustomer(s.id),r.success("Đã xóa khách hàng thành công"),c("/customers")}catch{r.error("Không thể xóa khách hàng")}};if(u)return e(y,{});if(!s)return e("div",{children:"Không tìm thấy khách hàng"});const f=t=>({new:"bg-blue-100 text-blue-800",active:"bg-green-100 text-green-800",potential:"bg-yellow-100 text-yellow-800",inactive:"bg-gray-100 text-gray-800"})[t]||"bg-gray-100 text-gray-800";return a("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[a("div",{className:"mb-6",children:[a(j,{to:"/customers",className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[e(k,{className:"w-4 h-4 mr-2"}),"Quay lại danh sách"]}),a("div",{className:"flex justify-between items-start",children:[a("div",{children:[a("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e(L,{className:"w-8 h-8"}),s.fullName]}),a("div",{className:"flex items-center gap-4 mt-2",children:[e("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f(s.status)}`,children:s.status}),a("span",{className:"text-gray-500 text-sm",children:["ID: #",s.id]})]})]}),a("div",{className:"flex gap-2",children:[a("button",{onClick:()=>c(`/customers/${s.id}/edit`),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[e(S,{className:"w-4 h-4"}),"Chỉnh sửa"]}),a("button",{onClick:N,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2",children:[e(D,{className:"w-4 h-4"}),"Xóa"]})]})]})]}),a("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a("div",{className:"lg:col-span-2 space-y-6",children:[a("div",{className:"bg-white rounded-lg shadow p-6",children:[e("h2",{className:"text-lg font-semibold mb-4",children:"Thông tin liên hệ"}),a("div",{className:"space-y-3",children:[a("div",{className:"flex items-center gap-3",children:[e(o,{className:"w-5 h-5 text-gray-400"}),a("div",{children:[e("p",{className:"text-sm text-gray-500",children:"Số điện thoại"}),e("p",{className:"font-medium",children:s.phone})]})]}),a("div",{className:"flex items-center gap-3",children:[e(g,{className:"w-5 h-5 text-gray-400"}),a("div",{children:[e("p",{className:"text-sm text-gray-500",children:"Email"}),e("p",{className:"font-medium",children:s.email})]})]}),s.address&&a("div",{className:"flex items-center gap-3",children:[e(T,{className:"w-5 h-5 text-gray-400"}),a("div",{children:[e("p",{className:"text-sm text-gray-500",children:"Địa chỉ"}),e("p",{className:"font-medium",children:s.address})]})]})]})]}),a("div",{className:"bg-white rounded-lg shadow p-6",children:[e("h2",{className:"text-lg font-semibold mb-4",children:"Thông tin bổ sung"}),a("div",{className:"grid grid-cols-2 gap-4",children:[a("div",{children:[e("p",{className:"text-sm text-gray-500",children:"Nguồn khách hàng"}),e("p",{className:"font-medium",children:s.source})]}),a("div",{children:[e("p",{className:"text-sm text-gray-500",children:"Ngày tạo"}),e("p",{className:"font-medium",children:new Date(s.createdAt).toLocaleDateString("vi-VN")})]}),a("div",{children:[e("p",{className:"text-sm text-gray-500",children:"Lần liên hệ cuối"}),e("p",{className:"font-medium",children:s.lastContactedAt?b(new Date(s.lastContactedAt),{addSuffix:!0,locale:v}):"Chưa liên hệ"})]}),a("div",{children:[e("p",{className:"text-sm text-gray-500",children:"Tags"}),e("div",{className:"flex flex-wrap gap-1 mt-1",children:((h=s.tags)==null?void 0:h.map((t,l)=>e("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:t},l)))||e("span",{className:"text-gray-400",children:"Không có"})})]})]})]}),s.notes&&a("div",{className:"bg-white rounded-lg shadow p-6",children:[e("h2",{className:"text-lg font-semibold mb-4",children:"Ghi chú"}),e("p",{className:"text-gray-700 whitespace-pre-wrap",children:s.notes})]})]}),a("div",{className:"space-y-6",children:[a("div",{className:"bg-white rounded-lg shadow p-6",children:[e("h2",{className:"text-lg font-semibold mb-4",children:"Thống kê"}),a("div",{className:"space-y-4",children:[a("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-gray-500",children:"Tổng giao dịch"}),e("span",{className:"font-semibold",children:"0"})]}),a("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-gray-500",children:"Giá trị giao dịch"}),e("span",{className:"font-semibold",children:"0 VNĐ"})]}),a("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-gray-500",children:"Lần tương tác"}),e("span",{className:"font-semibold",children:"0"})]})]})]}),a("div",{className:"bg-white rounded-lg shadow p-6",children:[e("h2",{className:"text-lg font-semibold mb-4",children:"Hành động nhanh"}),a("div",{className:"space-y-2",children:[a("button",{className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[e(o,{className:"w-4 h-4"}),"Gọi điện"]}),a("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[e(g,{className:"w-4 h-4"}),"Gửi email"]}),a("button",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2",children:[e(P,{className:"w-4 h-4"}),"Lên lịch hẹn"]})]})]}),a("div",{className:"bg-white rounded-lg shadow p-6",children:[e("h2",{className:"text-lg font-semibold mb-4",children:"Hoạt động gần đây"}),e("p",{className:"text-gray-500 text-sm",children:"Chưa có hoạt động nào"})]})]})]})]})};export{I as default};
